<div class="tabby-archive">
  <!-- Navigation (matching landing page) -->
  <nav class="nav">
    <div class="nav__logo">
      <img src="assets/agora-logo.png" alt="Agora" class="nav__logo-img" (click)="goToLandingPage()" />
    </div>
    <div class="nav__links">
      <a routerLink="/" class="nav__link nav__link--back">
        <svg class="nav__link-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M19 12H5M12 19l-7-7 7-7"/>
        </svg>
        Voltar
      </a>
      <a routerLink="/login" class="nav__link nav__link--primary">Entrar</a>
    </div>
  </nav>

  <!-- Header Section -->
  <header class="header">
    <div class="header__content">
      <div class="header__partnership">
        <img src="assets/condeb-logo.png" alt="CONDEB" class="header__partnership-logo" />
      </div>
      <h1 class="header__title">Tabby <span class="header__title--accent">Archive</span></h1>
      <p class="header__description">
        O Tabby Archive √© um projeto da SDUFRJ em parceria com a CONDEB para disponibilizar
        publicamente os registros dos tabbies dos campeonatos de debates brasileiros.
      </p>

      <!-- Searchable Tournament Selector -->
      <div class="tournament-selector">
        <label class="tournament-selector__label">Selecione um torneio</label>
        <div class="tournament-selector__wrapper">
          <mat-form-field appearance="outline" class="tournament-selector__field">
            <input matInput
                   [formControl]="tournamentFilter"
                   [matAutocomplete]="tournamentAuto"
                   placeholder="Buscar torneio..." />
            <mat-autocomplete #tournamentAuto="matAutocomplete"
                              (optionSelected)="onTournamentSelected($event)"
                              panelClass="tournament-dropdown">
              <mat-option *ngFor="let option of filteredTournaments$ | async" [value]="option.viewValue">
                {{ option.viewValue }}
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>
        </div>
      </div>
    </div>
  </header>

  <!-- Loading State -->
  <div class="loading" *ngIf="isLoading">
    <div class="loading__spinner"></div>
    <span class="loading__text">Carregando dados do torneio...</span>
  </div>

  <!-- Error State -->
  <div class="error" *ngIf="error">
    <svg class="error__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <circle cx="12" cy="12" r="10"/>
      <line x1="12" y1="8" x2="12" y2="12"/>
      <line x1="12" y1="16" x2="12.01" y2="16"/>
    </svg>
    <span class="error__text">{{ error }}</span>
  </div>

  <!-- Tournament Content -->
  <main class="content" *ngIf="data && !isLoading && !error">
    <!-- Tournament Overview Card -->
    <div class="overview">
      <h2 class="overview__title">{{ data.tournamentName }}</h2>
      <div class="overview__stats">
        <div class="overview__stat">
          <span class="overview__stat-value">{{ data.teams?.length || 0 }}</span>
          <span class="overview__stat-label">Times</span>
        </div>
        <div class="overview__stat">
          <span class="overview__stat-value">{{ data.speakers?.length || 0 }}</span>
          <span class="overview__stat-label">Debatedores</span>
        </div>
        <div class="overview__stat">
          <span class="overview__stat-value">{{ data.adjudicators?.length || 0 }}</span>
          <span class="overview__stat-label">Ju√≠zes</span>
        </div>
        <div class="overview__stat">
          <span class="overview__stat-value">{{ data.rounds?.length || 0 }}</span>
          <span class="overview__stat-label">Rodadas</span>
        </div>
      </div>
    </div>

    <!-- Tabs Navigation -->
    <mat-tab-group class="tabs" animationDuration="200ms">

      <!-- Tab 1: Estat√≠sticas (Summary) -->
      <mat-tab label="Estat√≠sticas">
        <div class="tab-content">
          <!-- Category Sub-Tabs -->
          <mat-tab-group class="category-tabs" animationDuration="150ms">
            <!-- Todos Tab -->
            <mat-tab label="Todos">
              <div class="category-tab-content">
                <mat-accordion class="sections-accordion" multi>
                  <!-- Top 3 Teams -->
                  <mat-expansion-panel expanded>
                    <mat-expansion-panel-header>
                      <mat-panel-title>Top 3 Times</mat-panel-title>
                    </mat-expansion-panel-header>
                    <div class="podium">
                      <div class="podium__item" *ngFor="let team of getTopTeams(3); let i = index">
                        <div class="podium__rank" [attr.data-rank]="i + 1">{{ i + 1 }}</div>
                        <div class="podium__info">
                          <div class="podium__name">{{ team.name }}</div>
                          <div class="podium__detail">{{ getTeamSpeakerNames(team) }}</div>
                        </div>
                        <div class="podium__score">{{ getTeamTotal(team.id) }} pts</div>
                      </div>
                      <div class="empty" *ngIf="getTopTeams(3).length === 0">Nenhum dado dispon√≠vel.</div>
                    </div>
                  </mat-expansion-panel>

                  <!-- Top 3 Speakers -->
                  <mat-expansion-panel expanded>
                    <mat-expansion-panel-header>
                      <mat-panel-title>Top 3 Speakers</mat-panel-title>
                    </mat-expansion-panel-header>
                    <div class="podium">
                      <div class="podium__item" *ngFor="let speaker of getTopSpeakers(3); let i = index">
                        <div class="podium__rank" [attr.data-rank]="i + 1">{{ i + 1 }}</div>
                        <div class="podium__info">
                          <div class="podium__name">{{ speaker.name }}</div>
                          <div class="podium__detail">{{ speaker.society }}</div>
                        </div>
                        <div class="podium__score">{{ getSpeakerAverage(speaker.id) }}</div>
                      </div>
                      <div class="empty" *ngIf="getTopSpeakers(3).length === 0">Nenhum dado dispon√≠vel.</div>
                    </div>
                  </mat-expansion-panel>

                  <!-- Quick Stats -->
                  <mat-expansion-panel>
                    <mat-expansion-panel-header>
                      <mat-panel-title>Resumo do Torneio</mat-panel-title>
                    </mat-expansion-panel-header>
                    <div class="quick-stats">
                      <div class="quick-stat">
                        <span class="quick-stat__label">Total de Times</span>
                        <span class="quick-stat__value">{{ data.teams?.length || 0 }}</span>
                      </div>
                      <div class="quick-stat">
                        <span class="quick-stat__label">Total de Debatedores</span>
                        <span class="quick-stat__value">{{ data.speakers?.length || 0 }}</span>
                      </div>
                      <div class="quick-stat">
                        <span class="quick-stat__label">Total de Ju√≠zes</span>
                        <span class="quick-stat__value">{{ data.adjudicators?.length || 0 }}</span>
                      </div>
                      <div class="quick-stat">
                        <span class="quick-stat__label">Rodadas Classificat√≥rias</span>
                        <span class="quick-stat__value">{{ getNonEliminationRounds().length }}</span>
                      </div>
                      <div class="quick-stat">
                        <span class="quick-stat__label">Rodadas Eliminat√≥rias</span>
                        <span class="quick-stat__value">{{ eliminationRounds.length }}</span>
                      </div>
                      <div class="quick-stat">
                        <span class="quick-stat__label">Institui√ß√µes</span>
                        <span class="quick-stat__value">{{ data.institutions?.length || 0 }}</span>
                      </div>
                    </div>
                  </mat-expansion-panel>
                </mat-accordion>
              </div>
            </mat-tab>

            <!-- Category Tabs (dynamic) -->
            <mat-tab *ngFor="let category of speakerCategories" [label]="category">
              <div class="category-tab-content">
                <mat-accordion class="sections-accordion" multi>
                  <!-- Category Champion -->
                  <mat-expansion-panel expanded *ngIf="winnersByCategory.get(category)?.team">
                    <mat-expansion-panel-header>
                      <mat-panel-title>Campe√£o {{ category }}</mat-panel-title>
                    </mat-expansion-panel-header>
                    <div class="winner-card">
                      <div class="winner-card__trophy">üèÜ</div>
                      <div class="winner-card__info">
                        <div class="winner-card__team">{{ winnersByCategory.get(category)?.team?.name }}</div>
                        <div class="winner-card__speakers">{{ getTeamSpeakerNames(winnersByCategory.get(category)?.team!) }}</div>
                      </div>
                    </div>
                  </mat-expansion-panel>

                  <!-- Category Finalists -->
                  <mat-expansion-panel expanded *ngIf="getFinalistsForCategory(category).length > 0">
                    <mat-expansion-panel-header>
                      <mat-panel-title>Finalistas {{ category }}</mat-panel-title>
                    </mat-expansion-panel-header>
                    <div class="finalists">
                      <div class="finalist" *ngFor="let team of getFinalistsForCategory(category)">
                        <div class="finalist__name">{{ team.name }}</div>
                        <div class="finalist__speakers">{{ getTeamSpeakerNames(team) }}</div>
                      </div>
                    </div>
                  </mat-expansion-panel>

                  <!-- Top 3 Teams for Category -->
                  <mat-expansion-panel expanded *ngIf="teamsByCategoryCached.get(category)?.length">
                    <mat-expansion-panel-header>
                      <mat-panel-title>Top 3 Times {{ category }}</mat-panel-title>
                    </mat-expansion-panel-header>
                    <div class="podium">
                      <ng-container *ngFor="let team of teamsByCategoryCached.get(category); let i = index">
                        <div class="podium__item" *ngIf="i < 3">
                          <div class="podium__rank" [attr.data-rank]="i + 1">{{ i + 1 }}</div>
                          <div class="podium__info">
                            <div class="podium__name">{{ team.name }}</div>
                            <div class="podium__detail">{{ getTeamSpeakerNames(team) }}</div>
                          </div>
                          <div class="podium__score">{{ getTeamTotal(team.id) }} pts</div>
                        </div>
                      </ng-container>
                    </div>
                  </mat-expansion-panel>

                  <!-- Top 3 Speakers for Category -->
                  <mat-expansion-panel expanded *ngIf="topSpeakersByCategoryLimited.get(category)?.length">
                    <mat-expansion-panel-header>
                      <mat-panel-title>Top 3 Speakers {{ category }}</mat-panel-title>
                    </mat-expansion-panel-header>
                    <div class="podium">
                      <div class="podium__item" *ngFor="let speaker of topSpeakersByCategoryLimited.get(category); let i = index">
                        <div class="podium__rank" [attr.data-rank]="i + 1">{{ i + 1 }}</div>
                        <div class="podium__info">
                          <div class="podium__name">{{ speaker.name }}</div>
                          <div class="podium__detail">{{ speaker.society }}</div>
                        </div>
                        <div class="podium__score">{{ getSpeakerAverage(speaker.id) }}</div>
                      </div>
                    </div>
                  </mat-expansion-panel>

                  <!-- Category Stats Summary -->
                  <mat-expansion-panel>
                    <mat-expansion-panel-header>
                      <mat-panel-title>Estat√≠sticas {{ category }}</mat-panel-title>
                    </mat-expansion-panel-header>
                    <div class="quick-stats">
                      <div class="quick-stat">
                        <span class="quick-stat__label">Times {{ category }}</span>
                        <span class="quick-stat__value">{{ teamsByCategoryCached.get(category)?.length || 0 }}</span>
                      </div>
                      <div class="quick-stat">
                        <span class="quick-stat__label">Speakers {{ category }}</span>
                        <span class="quick-stat__value">{{ speakersByCategoryCached.get(category)?.length || 0 }}</span>
                      </div>
                    </div>
                  </mat-expansion-panel>
                </mat-accordion>
              </div>
            </mat-tab>
          </mat-tab-group>
        </div>
      </mat-tab>

      <!-- Tab 2: Rodadas -->
      <mat-tab label="Rodadas">
        <div class="tab-content">
          <mat-accordion class="rounds-accordion" multi>
            <mat-expansion-panel *ngFor="let round of getAllRounds()">
              <mat-expansion-panel-header>
                <mat-panel-title>
                  {{ round.roundName }}
                  <span class="round-badge round-badge--elim" *ngIf="round.isEliminationRound">Eliminat√≥ria</span>
                </mat-panel-title>
                <mat-panel-description>
                  {{ round.roundAbbreviation }} ¬∑ {{ round.debates.length || 0 }} salas
                </mat-panel-description>
              </mat-expansion-panel-header>

              <!-- Nested accordion for rooms/debates -->
              <mat-accordion class="rooms-accordion" multi>
                <mat-expansion-panel *ngFor="let debate of round.debates" class="room-panel">
                  <mat-expansion-panel-header>
                    <mat-panel-title class="room-title">
                      {{ debate.debateVenue }}
                    </mat-panel-title>
                  </mat-expansion-panel-header>

                  <div class="room-content">
                    <!-- Four houses in a 2x2 grid -->
                    <div class="houses-grid">
                      <ng-container *ngFor="let side of debate.debateSides; let sideIndex = index">
                        <div class="house" *ngIf="side">
                          <div class="house__header">
                            <span class="house__position">{{ getSideTitle(sideIndex) }}</span>
                            <span class="house__rank" [attr.data-rank]="side.sideRank">
                              {{ getSideRankFull(side.sideRank) }}
                            </span>
                          </div>
                          <div class="house__team" *ngIf="side.sideTeam">{{ side.sideTeam.name }}</div>
                          <div class="house__speakers" *ngIf="side.sideSpeakers?.length">
                            <div class="house__speaker" *ngFor="let speechData of side.sideSpeakers">
                              <div class="house__speaker-info" *ngIf="speechData?.speechSpeaker">
                                <span class="house__speaker-name">{{ speechData.speechSpeaker.name }}</span>
                                <span class="house__speaker-society">{{ speechData.speechSpeaker.society }}</span>
                              </div>
                              <span class="house__speaker-sps" *ngIf="speechData?.speechSps">
                                {{ speechData.speechSps }}
                              </span>
                            </div>
                          </div>
                        </div>
                      </ng-container>
                    </div>

                    <!-- Adjudicators -->
                    <div class="room-adjudicators">
                      <div class="room-adjudicators__title">Mesa Adjudicadora</div>
                      <div class="room-adjudicators__list">
                        <div class="room-adjudicators__chair" *ngIf="debate.debateChair">
                          <span class="room-adjudicators__badge">¬©</span>
                          <div class="room-adjudicators__info">
                            <span class="room-adjudicators__name">{{ debate.debateChair.name }}</span>
                            <span class="room-adjudicators__society">{{ debate.debateChair.society }}</span>
                          </div>
                        </div>
                        <div class="room-adjudicators__wing" *ngFor="let wing of debate.debateWings">
                          <div class="room-adjudicators__info">
                            <span class="room-adjudicators__name">{{ wing.name }}</span>
                            <span class="room-adjudicators__society">{{ wing.society }}</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </mat-expansion-panel>
              </mat-accordion>
            </mat-expansion-panel>
          </mat-accordion>
        </div>
      </mat-tab>

      <!-- Tab 3: Participantes -->
      <mat-tab label="Participantes">
        <div class="tab-content">
          <mat-accordion class="sections-accordion" multi>
            <!-- Teams -->
            <mat-expansion-panel expanded>
              <mat-expansion-panel-header>
                <mat-panel-title>Times ({{ data.teams?.length || 0 }})</mat-panel-title>
              </mat-expansion-panel-header>
              <div class="participants-grid">
                <div class="participant-card" *ngFor="let team of data.teams">
                  <div class="participant-card__name">{{ team.name }}</div>
                  <div class="participant-card__details" *ngIf="team.speakers?.length">
                    {{ getTeamSpeakerNames(team) }}
                  </div>
                </div>
                <div class="empty" *ngIf="!data.teams?.length">Nenhum time registrado.</div>
              </div>
            </mat-expansion-panel>

            <!-- Speakers -->
            <mat-expansion-panel expanded>
              <mat-expansion-panel-header>
                <mat-panel-title>Debatedores ({{ data.speakers?.length || 0 }})</mat-panel-title>
              </mat-expansion-panel-header>
              <div class="participants-grid">
                <div class="participant-card" *ngFor="let speaker of data.speakers">
                  <div class="participant-card__name">{{ speaker.name }}</div>
                  <div class="participant-card__details">{{ speaker.society }}</div>
                  <div class="participant-card__tags" *ngIf="speaker.speakerCategories?.length">
                    <span class="participant-card__tag" *ngFor="let cat of speaker.speakerCategories">
                      {{ cat }}
                    </span>
                  </div>
                </div>
                <div class="empty" *ngIf="!data.speakers?.length">Nenhum debatedor registrado.</div>
              </div>
            </mat-expansion-panel>

            <!-- Adjudicators -->
            <mat-expansion-panel>
              <mat-expansion-panel-header>
                <mat-panel-title>Ju√≠zes ({{ data.adjudicators?.length || 0 }})</mat-panel-title>
              </mat-expansion-panel-header>
              <div class="participants-grid">
                <div class="participant-card" *ngFor="let adj of data.adjudicators">
                  <div class="participant-card__name">{{ adj.name }}</div>
                  <div class="participant-card__details">{{ adj.society }}</div>
                </div>
                <div class="empty" *ngIf="!data.adjudicators?.length">Nenhum juiz registrado.</div>
              </div>
            </mat-expansion-panel>

            <!-- Institutions -->
            <mat-expansion-panel>
              <mat-expansion-panel-header>
                <mat-panel-title>Institui√ß√µes ({{ data.institutions?.length || 0 }})</mat-panel-title>
              </mat-expansion-panel-header>
              <div class="participants-grid participants-grid--compact">
                <div class="participant-card participant-card--compact" *ngFor="let inst of data.institutions">
                  <div class="participant-card__name">{{ inst.name }}</div>
                </div>
                <div class="empty" *ngIf="!data.institutions?.length">Nenhuma institui√ß√£o registrada.</div>
              </div>
            </mat-expansion-panel>
          </mat-accordion>
        </div>
      </mat-tab>

      <!-- Tab 4: Mo√ß√µes -->
      <mat-tab label="Mo√ß√µes">
        <div class="tab-content">
          <mat-accordion class="motions-accordion" multi>
            <mat-expansion-panel *ngFor="let item of motionsByRound" [expanded]="true">
              <mat-expansion-panel-header>
                <mat-panel-title>
                  {{ item.round.roundName }}
                  <span class="round-badge round-badge--elim" *ngIf="item.round.isEliminationRound">Eliminat√≥ria</span>
                </mat-panel-title>
                <mat-panel-description>{{ item.round.roundAbbreviation }}</mat-panel-description>
              </mat-expansion-panel-header>
              <div class="motion-content" *ngIf="item.motion" [innerHTML]="getSafeMotionHtml(item.motion)"></div>
              <div class="empty" *ngIf="!item.motion">Mo√ß√£o n√£o dispon√≠vel.</div>
            </mat-expansion-panel>
          </mat-accordion>
          <div class="empty" *ngIf="motionsByRound.length === 0">Nenhuma mo√ß√£o registrada.</div>
        </div>
      </mat-tab>

      <!-- Tab 5: Resultados (Full Tables with Category Tabs) -->
      <mat-tab label="Resultados">
        <div class="tab-content">
          <mat-tab-group class="category-tabs" animationDuration="150ms">
            <!-- Todos Tab -->
            <mat-tab label="Todos">
              <div class="category-tab-content">
                <mat-accordion class="sections-accordion" multi>
                  <!-- Team Standings Full -->
                  <mat-expansion-panel expanded>
                    <mat-expansion-panel-header>
                      <mat-panel-title>Team Standings</mat-panel-title>
                      <mat-panel-description>{{ teamStandingsOpenCached.length }} times</mat-panel-description>
                    </mat-expansion-panel-header>
                    <div class="table-wrapper">
                      <table class="stats-table">
                        <thead>
                          <tr>
                            <th>#</th>
                            <th>Time</th>
                            <th>Pontos</th>
                            <th>1¬∫s</th>
                            <th>2¬∫s</th>
                            <th *ngFor="let round of nonEliminationRoundsCached">{{ round.roundAbbreviation }}</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let team of teamStandingsOpenCached; let i = index">
                            <td class="stats-table__rank">{{ i + 1 }}</td>
                            <td class="stats-table__name">{{ team.name }}</td>
                            <td class="stats-table__value stats-table__value--highlight">
                              {{ getTeamTotal(team.id) }}
                            </td>
                            <td class="stats-table__value">{{ getTeamFirsts(team.id) }}</td>
                            <td class="stats-table__value">{{ getTeamSeconds(team.id) }}</td>
                            <td class="stats-table__value" *ngFor="let round of nonEliminationRoundsCached">
                              {{ getTeamRoundPoints(team.id, round.roundAbbreviation) }}
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </mat-expansion-panel>

                  <!-- Speaker Stats Full -->
                  <mat-expansion-panel expanded>
                    <mat-expansion-panel-header>
                      <mat-panel-title>Speaker Stats</mat-panel-title>
                      <mat-panel-description>{{ topSpeakersOpenCached.length }} speakers</mat-panel-description>
                    </mat-expansion-panel-header>
                    <div class="table-wrapper">
                      <table class="stats-table">
                        <thead>
                          <tr>
                            <th>#</th>
                            <th>Nome</th>
                            <th>Institui√ß√£o</th>
                            <th>M√©dia</th>
                            <th>œÉ</th>
                            <th *ngFor="let round of nonEliminationRoundsCached">{{ round.roundAbbreviation }}</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let speaker of topSpeakersOpenCached; let i = index">
                            <td class="stats-table__rank">{{ i + 1 }}</td>
                            <td class="stats-table__name">{{ speaker.name }}</td>
                            <td class="stats-table__society">{{ speaker.society }}</td>
                            <td class="stats-table__value stats-table__value--highlight">
                              {{ getSpeakerAverage(speaker.id) }}
                            </td>
                            <td class="stats-table__value">{{ getSpeakerSd(speaker.id) }}</td>
                            <td class="stats-table__value" *ngFor="let round of nonEliminationRoundsCached">
                              {{ getSpeakerRoundSps(speaker.id, round.roundAbbreviation) }}
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </mat-expansion-panel>
                </mat-accordion>
              </div>
            </mat-tab>

            <!-- Category Tabs -->
            <mat-tab *ngFor="let category of speakerCategories" [label]="category">
              <div class="category-tab-content">
                <mat-accordion class="sections-accordion" multi>
                  <!-- Team Standings for Category -->
                  <mat-expansion-panel expanded>
                    <mat-expansion-panel-header>
                      <mat-panel-title>Team Standings {{ category }}</mat-panel-title>
                      <mat-panel-description>{{ teamsByCategoryCached.get(category)?.length || 0 }} times</mat-panel-description>
                    </mat-expansion-panel-header>
                    <div class="table-wrapper">
                      <table class="stats-table">
                        <thead>
                          <tr>
                            <th>#</th>
                            <th>Time</th>
                            <th>Pontos</th>
                            <th>1¬∫s</th>
                            <th>2¬∫s</th>
                            <th *ngFor="let round of nonEliminationRoundsCached">{{ round.roundAbbreviation }}</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let team of teamsByCategoryCached.get(category); let i = index">
                            <td class="stats-table__rank">{{ i + 1 }}</td>
                            <td class="stats-table__name">{{ team.name }}</td>
                            <td class="stats-table__value stats-table__value--highlight">
                              {{ getTeamTotal(team.id) }}
                            </td>
                            <td class="stats-table__value">{{ getTeamFirsts(team.id) }}</td>
                            <td class="stats-table__value">{{ getTeamSeconds(team.id) }}</td>
                            <td class="stats-table__value" *ngFor="let round of nonEliminationRoundsCached">
                              {{ getTeamRoundPoints(team.id, round.roundAbbreviation) }}
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                    <div class="empty" *ngIf="!teamsByCategoryCached.get(category)?.length">
                      Nenhum time na categoria {{ category }}.
                    </div>
                  </mat-expansion-panel>

                  <!-- Speaker Stats for Category -->
                  <mat-expansion-panel expanded>
                    <mat-expansion-panel-header>
                      <mat-panel-title>Speaker Stats {{ category }}</mat-panel-title>
                      <mat-panel-description>{{ speakersByCategoryCached.get(category)?.length || 0 }} speakers</mat-panel-description>
                    </mat-expansion-panel-header>
                    <div class="table-wrapper">
                      <table class="stats-table">
                        <thead>
                          <tr>
                            <th>#</th>
                            <th>Nome</th>
                            <th>Institui√ß√£o</th>
                            <th>M√©dia</th>
                            <th>œÉ</th>
                            <th *ngFor="let round of nonEliminationRoundsCached">{{ round.roundAbbreviation }}</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let speaker of speakersByCategoryCached.get(category); let i = index">
                            <td class="stats-table__rank">{{ i + 1 }}</td>
                            <td class="stats-table__name">{{ speaker.name }}</td>
                            <td class="stats-table__society">{{ speaker.society }}</td>
                            <td class="stats-table__value stats-table__value--highlight">
                              {{ getSpeakerAverage(speaker.id) }}
                            </td>
                            <td class="stats-table__value">{{ getSpeakerSd(speaker.id) }}</td>
                            <td class="stats-table__value" *ngFor="let round of nonEliminationRoundsCached">
                              {{ getSpeakerRoundSps(speaker.id, round.roundAbbreviation) }}
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                    <div class="empty" *ngIf="!speakersByCategoryCached.get(category)?.length">
                      Nenhum speaker na categoria {{ category }}.
                    </div>
                  </mat-expansion-panel>
                </mat-accordion>
              </div>
            </mat-tab>
          </mat-tab-group>
        </div>
      </mat-tab>
    </mat-tab-group>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer__content">
      <div class="footer__brand">
        <img src="assets/agora-logo.png" alt="Agora" class="footer__logo" />
        <span class="footer__separator">√ó</span>
        <img src="assets/condeb-logo.png" alt="CONDEB" class="footer__logo footer__logo--condeb" />
      </div>
      <div class="footer__text">
        Uma parceria entre a Sociedade de Debates UFRJ e a CONDEB
      </div>
    </div>
  </footer>
</div>
