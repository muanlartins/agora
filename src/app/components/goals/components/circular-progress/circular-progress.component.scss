@import 'variables';

.circular-progress {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;

  &__svg {
    transform: rotate(-90deg);
    filter: drop-shadow(0 2px 8px rgba(0, 0, 0, 0.15));
  }

  &__bg {
    stroke: $border-dark;
    transition: stroke $transition-base;
  }

  &__arc {
    stroke: $primary;
    stroke-linecap: round;
    transition: stroke-dashoffset 0.6s cubic-bezier(0.4, 0, 0.2, 1),
                stroke $transition-base;

    &--achieved {
      stroke: $success;
    }
  }

  &__content {
    position: absolute;
    inset: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  &__count {
    font-family: $font-body;
    font-size: $font-size-base;
    font-weight: $font-weight-semibold;
    color: $text-primary-dark;
    letter-spacing: $letter-spacing-tight;
  }

  &__check {
    display: flex;
    align-items: center;
    justify-content: center;
    color: $success;
    animation: checkPop 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);

    svg {
      width: 28px;
      height: 28px;
    }
  }

  &--achieved {
    .circular-progress__bg {
      stroke: rgba($success, 0.2);
    }
  }
}

@keyframes checkPop {
  0% {
    transform: scale(0);
    opacity: 0;
  }
  50% {
    transform: scale(1.2);
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}
