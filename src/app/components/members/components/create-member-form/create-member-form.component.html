<form class="form" [formGroup]="form" (submit)="onSubmit()">
  <!-- Avatar Section -->
  <div class="form__avatar-section">
    <label for="upload" class="form__avatar">
      <input type="file" id="upload" (change)="onFileSelected($event)" accept="image/*" />
      <nz-avatar [nzSize]="128" [nzSrc]="getSrc()"></nz-avatar>
    </label>
    <span class="form__avatar-hint">Clique para alterar</span>
    <div class="form__avatar-previews">
      <nz-avatar class="form__avatar-preview" [nzSize]="64" [nzSrc]="getSrc()"></nz-avatar>
      <nz-avatar class="form__avatar-preview" [nzSize]="32" [nzSrc]="getSrc()"></nz-avatar>
    </div>
  </div>

  <!-- Name Field -->
  <mat-form-field class="form__field">
    <mat-label>Nome</mat-label>
    <input matInput formControlName="name" />
  </mat-form-field>

  <!-- Society Field -->
  <mat-form-field class="form__field">
    <mat-label>Sociedade</mat-label>
    <mat-select formControlName="society">
      <mat-option value="Nova Sociedade">Nova Sociedade</mat-option>
      <mat-option *ngFor="let society of societyOptions" [value]="society.value">
        {{ society.viewValue }}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <!-- New Society Field (conditional) -->
  <mat-form-field *ngIf="showNewSocietyFormField()" class="form__field">
    <mat-label>Nova Sociedade</mat-label>
    <input matInput formControlName="newSociety" />
  </mat-form-field>

  <!-- Selective Process (SDUFRJ only) -->
  <ng-container *ngIf="societyIsSdufrj()">
    <mat-form-field class="form__field">
      <mat-label>Processo Seletivo</mat-label>
      <mat-select formControlName="selectiveProcess">
        <mat-option value="Novo Processo Seletivo">Novo Processo Seletivo</mat-option>
        <mat-option *ngFor="let option of selectiveProcessOptions" [value]="option.value">
          {{ option.viewValue }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field *ngIf="showNewSelectiveProcessFormField()" class="form__field">
      <mat-label>Novo Processo Seletivo</mat-label>
      <input matInput formControlName="newSelectiveProcess" />
    </mat-form-field>
  </ng-container>

  <!-- Checkboxes (inline) -->
  <div class="form__checkboxes">
    <mat-checkbox color="primary" formControlName="isTrainee">Trainee</mat-checkbox>
    <mat-checkbox color="primary" formControlName="blocked">Bloquear</mat-checkbox>
  </div>

  <!-- Description -->
  <mat-form-field class="form__textarea">
    <mat-label>Descrição</mat-label>
    <textarea
      matInput
      cdkTextareaAutosize
      cdkAutosizeMinRows="3"
      formControlName="description"
    ></textarea>
  </mat-form-field>

  <!-- Markdown Preview -->
  <app-markdown class="form__markdown" [data]="description"></app-markdown>

  <!-- Submit Button -->
  <div class="form__actions">
    <button
      class="form__button"
      mat-flat-button
      color="primary"
      [disabled]="!form.valid"
      type="submit"
    >
      {{ getButtonText() }}
    </button>
  </div>
</form>
